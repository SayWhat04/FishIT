<h2 mat-dialog-title>Create New Box</h2>

<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <mat-dialog-content>
    <div class="flex flex-col gap-4">
      <mat-form-field appearance="outline">
        <mat-label>Box Name</mat-label>
        <input 
          matInput 
          formControlName="name" 
          placeholder="Enter box name"
          required>
        @if (form.get('name')?.invalid && form.get('name')?.touched) {
          <mat-error>
            @if (form.get('name')?.errors?.['required']) {
              Name is required
            }
            @if (form.get('name')?.errors?.['minlength']) {
              Name must be at least 3 characters
            }
            @if (form.get('name')?.errors?.['maxlength']) {
              Name cannot exceed 100 characters
            }
          </mat-error>
        }
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Description (Optional)</mat-label>
        <textarea 
          matInput 
          formControlName="description" 
          placeholder="Enter box description"
          rows="3">
        </textarea>
        @if (form.get('description')?.invalid && form.get('description')?.touched) {
          <mat-error>
            @if (form.get('description')?.errors?.['maxlength']) {
              Description cannot exceed 500 characters
            }
          </mat-error>
        }
      </mat-form-field>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button 
      mat-button 
      type="button"
      (click)="onCancel()">
      Cancel
    </button>
    <button 
      mat-raised-button 
      color="primary" 
      type="submit"
      [disabled]="!form.valid">
      Create
    </button>
  </mat-dialog-actions>
</form> 